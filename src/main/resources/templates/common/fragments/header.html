<div xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
     th:fragment="HeaderFragment">
    <nav class="headerNav">

        <a href=""><img src="/img/pokeball.gif" width="80" height="80"></a>
        <a class="nav-link" sec:authorize="isAnonymous()" href="user/login">로그인</a>
        <!-- 사용자가 로그인한 경우에만 환영 메시지 표시 -->


        <a sec:authorize="isAuthenticated()" th:if="${T(com.boot.tsamo.config.oauth.MyOAuth2UserService).kakaoLogin== false}" class="label"
           th:text="'환영합니다, [' + ${#authentication.principal.username} + '] 님'"></a>

        <a sec:authorize="isAuthenticated()" th:if="${T(com.boot.tsamo.config.oauth.MyOAuth2UserService).kakaoLogin== true}" class="label"
           th:text="'환영합니다, [' + ${#authentication.principal.getName} + '] 님'"></a>

        <!--
                <a th:if="${#authentication.principal.username != null}" class="label" sec:authorize="isAuthenticated()"
                   th:text="'환영합니다, [' + ${#authentication.principal.username} + '] 님'"></a>

                <a th:if="${#authentication.principal.attributes['properties']['nickname'] != null}" class="label" sec:authorize="isAuthenticated()"
                   th:text="'환영합니다, [' + ${#authentication.principal.attributes['properties']['nickname']} + '] 님'"></a>
        -->
                <a class="nav-link"  sec:authorize="isAuthenticated()" th:if="${T(com.boot.tsamo.config.oauth.MyOAuth2UserService).kakaoLogin== false}" href="user/logout">로그아웃</a>

                 <a class="nav-link"  sec:authorize="isAuthenticated()" th:if="${T(com.boot.tsamo.config.oauth.MyOAuth2UserService).kakaoLogin== true}" href="https://kauth.kakao.com/oauth/logout?client_id=9739812df088ab6e1028c14756aa0072&logout_redirect_uri=http://222.119.100.90:8215/user/kakao/logout">로그아웃</a>

                <a class="nav-link" sec:authorize="isAnonymous()" href="user/new">회원가입</a>

                <a class="nav-link" sec:authorize="isAuthenticated()" href="user/loginInfo">회원정보</a>

                <a class="nav-link" href="visitCount">방문자 수 조회</a>

                <a class="nav-link" href="poketmon">포켓몬 도감</a>

                <!-- 관리자 설정란 -->

        <div class="admin-settings" sec:authorize="hasRole('ADMIN')" style="display: inline-block">
            <a href="#" class="admin-menu">관리자 설정</a>
            <div class="admin-menu-dropdown">
                <a href="admin/attachFileAtt">첨부 파일 설정</a>
                <a href="admin/deletedBoard">삭제 이력 페이지</a>
            </div>
        </div>

    </nav>

</div>
